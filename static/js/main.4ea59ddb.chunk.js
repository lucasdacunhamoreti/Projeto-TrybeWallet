(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/logo.7f611f0f.svg"},33:function(e,t,a){e.exports=a(51)},44:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),o=a(21),i=a(11),s=(a(44),a(2)),u=a(10),d=a(15),m=a(16),p=a(19),h=a(18),E=a(3),b=a(13),f=a.n(b),v=a(23);function g(e){return{type:"GET_CURRENCIES",payload:e}}a(46);var y=a(17),x=a.n(y),j=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target;e.setState(Object(u.a)({},a.name,a.value))},e.validateEmail=function(){var t=e.state.email;return/\S+@\S+\.\S+/.test(t)},e.validatePassword=function(){return e.state.password.length<6},e.handleSubmit=function(){e.props.history.push("/carteira")},e.state={email:"",password:""},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password,c=this.props.dispatch;return r.a.createElement("div",{id:"container-login"},r.a.createElement("img",{id:"wallet-img",src:x.a,alt:"carteira"}),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email"},r.a.createElement("input",{"data-testid":"email-input",name:"email",value:a,type:"text",onChange:this.handleChange,id:"input-email",className:"form-control",placeholder:"Email","aria-label":"Email","aria-describedby":"basic-addon1"}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},r.a.createElement("input",{"data-testid":"password-input",value:n,name:"password",type:"password",onChange:this.handleChange,className:"form-control",placeholder:"Senha","aria-label":"Senha","aria-describedby":"basic-addon1"}))),r.a.createElement("button",{disabled:!this.validateEmail()||this.validatePassword(),type:"button",className:"btn btn-success",onClick:function(){c(function(e,t){return{type:"LOGIN",payload:{email:e,senha:t}}}(a,n)),e.handleSubmit()}},"Entrar"))}}]),a}(r.a.Component),O=Object(i.b)()(j),w=(a(47),{value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"}),C=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target;e.setState(Object(u.a)({},a.name,a.value))},e.submitExpense=function(t){var a=e.props,n=a.addExpense,r=a.expenses;t.preventDefault();var c=r.length;n(Object(E.a)({id:c},e.state)),e.setState(w)},e.sumExpenses=function(){var t=e.props.expenses;return 0===t.length?0:t.map((function(e){var t=e.value,a=e.currency,n=e.exchangeRates;return Number(t)*Number(n[a].ask)})).reduce((function(e,t){return e+t})).toFixed(2)},e.state=w,e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchReturnApi)()}},{key:"render",value:function(){var e=this.props,t=e.email,a=e.currencies,n=e.expenses,c=e.deleteExpense,l=this.state,o=l.value,i=l.description,s=l.currency,u=l.method,d=l.tag;return r.a.createElement("div",null,r.a.createElement("header",{id:"container-header"},r.a.createElement("div",null,r.a.createElement("img",{src:x.a,alt:"logo"})),r.a.createElement("div",{id:"container-info-header"},r.a.createElement("h5",{"data-testid":"email-field"},"Email:",t),r.a.createElement("h5",{id:"expense-total","data-testid":"total-field"},"Despesa Total: R$",Number(this.sumExpenses()).toFixed(2)),r.a.createElement("h5",{"data-testid":"header-currency-field"},"BRL"))),r.a.createElement("div",{id:"container-add-expense"},r.a.createElement("label",{htmlFor:"value"},r.a.createElement("input",{id:"value",name:"value",value:o,onChange:this.handleChange,"data-testid":"value-input",type:"number",placeholder:"Valor da despesa",className:"form-control","aria-label":"Valor da despesa","aria-describedby":"basic-addon1"})),r.a.createElement("label",{htmlFor:"description"},r.a.createElement("input",{id:"description","data-testid":"description-input",type:"text",placeholder:"Descri\xe7\xe3o da despesa",name:"description",value:i,onChange:this.handleChange,className:"form-control","aria-label":"Descri\xe7\xe3o da despesa","aria-describedby":"basic-addon1"})),r.a.createElement("label",{htmlFor:"currencies"},"Moeda",r.a.createElement("select",{name:"currency",value:s,id:"currencies",onChange:this.handleChange,className:"form-select"},a.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("label",{htmlFor:"payment_method"},"M\xe9todo de pagamento",r.a.createElement("select",{"data-testid":"method-input",name:"method",value:u,id:"payment_method",onChange:this.handleChange,className:"form-select"},r.a.createElement("option",null,"Dinheiro"),r.a.createElement("option",null,"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",null,"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"category"},"Categoria",r.a.createElement("select",{"data-testid":"tag-input",name:"tag",value:d,id:"category",onChange:this.handleChange,className:"form-select"},r.a.createElement("option",null,"Alimenta\xe7\xe3o"),r.a.createElement("option",null,"Lazer"),r.a.createElement("option",null,"Trabalho"),r.a.createElement("option",null,"Transporte"),r.a.createElement("option",null,"Sa\xfade"))),r.a.createElement("button",{disabled:!o||!i||!s||!u||!d,type:"submit",onClick:this.submitExpense,className:"btn btn-info"},"Adicionar despesa")),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",{id:"descriptions-table"},r.a.createElement("th",{scope:"col"},"Descri\xe7\xe3o"),r.a.createElement("th",{scope:"col"},"Tag"),r.a.createElement("th",{scope:"col"},"M\xe9todo de pagamento"),r.a.createElement("th",{scope:"col"},"Valor"),r.a.createElement("th",{scope:"col"},"Moeda"),r.a.createElement("th",{scope:"col"},"C\xe2mbio utilizado"),r.a.createElement("th",{scope:"col"},"Valor convertido"),r.a.createElement("th",{scope:"col"},"Moeda de convers\xe3o"),r.a.createElement("th",{scope:"col"},"Editar/Excluir"))),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.tag),r.a.createElement("td",null,e.method),r.a.createElement("td",null,"R$",Number(e.value).toFixed(2)),r.a.createElement("td",null,e.exchangeRates[e.currency].name),r.a.createElement("td",null,"R$",Number(e.exchangeRates[e.currency].ask).toFixed(2)),r.a.createElement("td",null,"R$",Number(e.value*e.exchangeRates[e.currency].ask).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{type:"button","data-testid":"delete-btn",onClick:function(){return c(e)},className:"btn btn-danger"},"Excluir")))})))))}}]),a}(r.a.Component),N=Object(i.b)((function(e){return{email:e.user.email,currencies:e.wallet.currencies,expenses:e.wallet.expenses}}),(function(e){return{fetchReturnApi:function(t){return e(function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST_API"}),e.abrupt("return",fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(e){return t(g(e))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},addExpense:function(t){return e((a=t,function(){var e=Object(v.a)(f.a.mark((function e(t){var n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,c=Object(E.a)(Object(E.a)({},a),{},{exchangeRates:Object(E.a)({},r)}),t({type:"ADD_EXPENSE",payload:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a},deleteExpense:function(t){return e({type:"REMOVE_EXPENSE",payload:t})}}}))(C);var R=function(){return r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:O}),r.a.createElement(s.a,{exact:!0,path:"/carteira",component:N}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=a(8),k=a(31),D=a(32),F={email:"",senha:""},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(E.a)(Object(E.a)({},e),{},{email:t.payload.email});default:return e}},_=a(26),A={currencies:[],expenses:[],fetch:!1},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_API":return Object(E.a)(Object(E.a)({},e),{},{fetch:!0});case"GET_CURRENCIES":return Object(E.a)(Object(E.a)({},e),{},{fetch:!1,currencies:Object.keys(t.payload).filter((function(e){return"USDT"!==e}))});case"ADD_EXPENSE":return Object(E.a)(Object(E.a)({},e),{},{expenses:[].concat(Object(_.a)(e.expenses),[t.payload])});case"REMOVE_EXPENSE":return Object(E.a)(Object(E.a)({},e),{},{expenses:Object(_.a)(e.expenses.filter((function(e){return e!==t.payload})))});default:return e}},P=Object(S.combineReducers)({user:T,wallet:M}),I=Object(S.createStore)(P,Object(k.composeWithDevTools)(Object(S.applyMiddleware)(D.a)));l.a.render(r.a.createElement(i.a,{store:I},r.a.createElement(o.a,{basename:"/Projeto-TrybeWallet"},r.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.4ea59ddb.chunk.js.map